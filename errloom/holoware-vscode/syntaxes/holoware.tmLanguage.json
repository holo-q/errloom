{
  "name": "Holoware",
  "scopeName": "source.holoware",
  "fileTypes": ["hol"],
  "patterns": [
    {
      "include": "#comments"
    },
    {
      "include": "#tags"
    },
    {
      "include": "#text-content"
    }
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "name": "comment.line.number-sign.holoware",
          "match": "^\\s*#.*$"
        }
      ]
    },
    "tags": {
      "patterns": [
        {
          "include": "#context-separators"
        },
        {
          "include": "#role-tags"
        },
        {
          "include": "#camel-case-object-tags"
        },
        {
          "include": "#object-tags"
        }
      ]
    },
    "context-separators": {
      "name": "meta.tag.context.holoware",
      "begin": "(<\\|)(\\s*(?:===|---|~~~|\\.\\.\\.|\\+\\+\\+|###|\\*\\*\\*|@@@)\\s*)",
      "end": "(\\|>)",
      "beginCaptures": {
        "1": {
          "name": "punctuation.definition.tag.begin.holoware"
        },
        "2": {
          "name": "keyword.operator.holoware"
        }
      },
      "endCaptures": {
        "1": {
          "name": "punctuation.definition.tag.end.holoware"
        }
      }
    },
    "role-tags": {
      "begin": "<\\|(SYS|USER|HOLO|@_@|o_o|SAMPLE)",
      "end": "\\|>",
      "beginCaptures": {
        "0": {
          "name": "punctuation.definition.tag.begin.holoware"
        },
        "1": {
          "name": "entity.name.type.role.holoware"
        }
      },
      "endCaptures": {
        "0": {
          "name": "punctuation.definition.tag.end.holoware"
        }
      },
      "name": "meta.tag.role.holoware",
      "patterns": [
        {
          "include": "#tag-content"
        }
      ]
    },
    "camel-case-object-tags": {
      "begin": "<\\|([A-Z][a-zA-Z0-9]*)",
      "end": "\\|>",
      "beginCaptures": {
        "0": {
          "name": "punctuation.definition.tag.begin.holoware"
        },
        "1": {
          "name": "entity.name.type.class.holoware"
        }
      },
      "endCaptures": {
        "0": {
          "name": "punctuation.definition.tag.end.holoware"
        }
      },
      "name": "meta.tag.object.holoware",
      "patterns": [
        {
          "include": "#tag-content"
        }
      ]
    },
    "object-tags": {
      "begin": "<\\|([a-z_][a-zA-Z0-9_]*)",
      "end": "\\|>",
      "beginCaptures": {
        "0": {
          "name": "punctuation.definition.tag.begin.holoware"
        },
        "1": {
          "name": "variable.name.object.holoware"
        }
      },
      "endCaptures": {
        "0": {
          "name": "punctuation.definition.tag.end.holoware"
        }
      },
      "name": "meta.tag.object.holoware",
      "patterns": [
        {
          "include": "#tag-content"
        }
      ]
    },
    "tag-content": {
      "patterns": [
        {
          "match": "(\\w+)\\s*=\\s*(\"[^\"<>]*\"|'[^'<>]*'|[^\\s\"'<>]+)",
          "captures": {
            "1": {
              "name": "entity.other.attribute-name.holoware"
            },
            "2": {
              "name": "variable.parameter.holoware"
            }
          }
        },
        {
          "match": "(\\|)\\s*([a-zA-Z_][a-zA-Z0-9_]*)",
          "captures": {
            "1": {
              "name": "punctuation.separator.holoware"
            },
            "2": {
              "name": "variable.name.object.holoware"
            }
          }
        },
        {
          "match": ":([^\\s|<>]+)",
          "name": "entity.other.attribute-name.id.holoware"
        },
        {
          "name": "variable.parameter.holoware",
          "match": "\\b([a-zA-Z_][a-zA-Z0-9_]*)\\b(?!\\s*=)"
        },
        {
          "begin": "<>",
          "end": "(?=\\|>)",
          "name": "string.unquoted.embedded.holoware",
          "patterns": [
            {
              "include": "#comments"
            }
          ]
        }
      ]
    },
    "text-content": {
      "begin": "(?<=\\|>)(?!\\s*<\\|)",
      "end": "(?=<\\|)",
      "name": "string.unquoted.holoware",
      "patterns": [
        {
          "include": "#comments"
        }
      ]
    }
  }
}